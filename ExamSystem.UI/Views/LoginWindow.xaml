<Window x:Class="ExamSystem.UI.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="在线考试系统 - 登录" 
        Height="561" 
        Width="400"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        Background="{StaticResource BackgroundBrush}">
    <Grid Height="551" VerticalAlignment="Top">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- 顶部Logo区域 -->
        <Border Grid.Row="0" Background="{StaticResource PrimaryBrush}" Height="150">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock Text="在线考试系统" 
                          FontSize="{StaticResource FontSizeXXLarge}" 
                          FontWeight="{StaticResource FontWeightBold}"
                          Foreground="White"
                          HorizontalAlignment="Center"/>
                <TextBlock Text="Exam System" 
                          FontSize="{StaticResource FontSizeMedium}" 
                          Foreground="White"
                          Opacity="0.8"
                          HorizontalAlignment="Center"
                          Margin="0,5,0,0"/>
            </StackPanel>
        </Border>

        <!-- 登录表单 -->
        <Border Grid.Row="1" 
                Style="{StaticResource CardBorder}"
                Margin="30"
                VerticalAlignment="Center">
            <StackPanel>
                <TextBlock Text="用户登录" 
                          FontSize="{StaticResource FontSizeLarge}"
                          FontWeight="{StaticResource FontWeightMedium}"
                          Margin="0,0,0,20"
                          HorizontalAlignment="Center"/>

                <!-- 用户名 -->
                <TextBlock Text="用户名" 
                          FontSize="{StaticResource FontSizeMedium}"
                          Margin="0,0,0,5"/>
                <TextBox x:Name="UsernameTextBox"
                        Style="{StaticResource StandardTextBox}"
                        Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}"
                        Margin="0,0,0,15"/>

                <!-- 密码 -->
                <TextBlock Text="密码" 
                          FontSize="{StaticResource FontSizeMedium}"
                          Margin="0,0,0,5"/>
                <PasswordBox x:Name="PasswordBox"
                            Style="{StaticResource StandardPasswordBox}"
                            Margin="0,0,0,15"
                            PasswordChanged="PasswordBox_PasswordChanged"/>

                <!-- 记住密码 -->
                <CheckBox Content="记住密码" 
                         IsChecked="{Binding RememberPassword}"
                         Margin="0,0,0,20"/>

                <!-- 错误消息 -->
                <TextBlock Text="{Binding ErrorMessage}"
                          Foreground="{StaticResource ErrorBrush}"
                          FontSize="{StaticResource FontSizeSmall}"
                          TextWrapping="Wrap"
                          Margin="0,0,0,10"
                          Visibility="{Binding ErrorMessage, Converter={StaticResource StringToVisibilityConverter}}"/>

                <!-- 登录按钮 -->
                <Button Content="登录"
                       Style="{StaticResource PrimaryButton}"
                       Command="{Binding LoginCommand}"
                       IsEnabled="{Binding IsLoading, Converter={StaticResource InverseBooleanConverter}}"
                       Height="40"/>

                <!-- 加载指示器 -->
                <ProgressBar IsIndeterminate="True"
                            Height="4"
                            Margin="0,10,0,0"
                            Visibility="{Binding IsLoading, Converter={StaticResource BooleanToVisibilityConverter}}"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
